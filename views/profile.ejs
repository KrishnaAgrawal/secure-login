<% title = "Profile" %>

<div class="glass-card p-8 shadow-xl mx-auto max-w-lg">
  <div class="flex items-center gap-4">
    <div class="avatar bg-slate-700 rounded-full w-16 h-16 flex items-center justify-center text-2xl font-bold text-white">
      <%= (user && user.name) ? user.name[0].toUpperCase() : 'U' %>
    </div>
    <div>
      <h3 class="text-lg font-semibold"><%= user.name || user.email %></h3>
      <p class="text-sm text-slate-300"><%= user.email %></p>
    </div>
  </div>

  <div class="mt-6">
    <p class="text-slate-300 mb-4">Two-factor: <strong class="text-white"><%= user.totp && user.totp.enabled ? 'Enabled' : 'Disabled' %></strong></p>

    <div class="flex gap-3">
      <form action="/user/logout" method="post">
        <button class="btn-secondary">Logout</button>
      </form>
      <a class="btn-primary" href="/auth/setup-totp">(Re)Setup 2FA</a>
    </div>
  </div>
</div>